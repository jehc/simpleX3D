<X3D>
    <Scene>

        <!-- set up the test elements -->
        <TimeSensor DEF='ts' startTime='2' cycleInterval='2'/>
        <TimeSensor DEF='next' startTime='10000'/>

        <!-- define the test behavior -->
        <TestSuite desc='"TimeSensor"'>
            <Test DEF='test' desc='"Should get events from timesensor"'>

                <expect name='time' type='SFTime' value='3.14' testAt='3.14'/>
                <expect name='start' type='SFBool' value='true' testAt='2'/>
                <expect name='stop' type='SFTime' value='4'/>
                <expect name='frac' type='SFFloat' value='0.5' testAt='3'/>
                <expect name='elapsed' type='SFTime' value='2' testAt='4'/>
                <expect name='cycle' type='SFTime' value='2' testAt='2'/>
                <expect name='next' type='SFTime' value='5'/>
                <expect name='mid' type='SFBool' value='false' testAt='3'/>
            </Test>
        </TestSuite>

        <!-- route first timer to second -->
        <ROUTE fromNode='ts' fromField='cycleTime'
               toNode='next' toField='startTime'/>
        <ROUTE fromNode='next' fromField='cycleTime'
               toNode='test' toField='next'/>
        <ROUTE fromNode='next' fromField='isActive'
               toNode='test' toField='mid'/>

        <!-- raw time event -->
        <ROUTE fromNode='ts' fromField='time'
               toNode='test' toField='time'/>

        <!-- start and stop events -->
        <ROUTE fromNode='ts' fromField='isActive'
               toNode='test' toField='start'/>
        <ROUTE fromNode='ts' fromField='cycleTime'
               toNode='test' toField='stop'/>

        <!-- cycle events -->
        <ROUTE fromNode='ts' fromField='fraction_changed'
               toNode='test' toField='frac'/>
        <ROUTE fromNode='ts' fromField='elapsedTime'
               toNode='test' toField='elapsed'/>
        <ROUTE fromNode='ts' fromField='cycleTime'
               toNode='test' toField='cycle'/>

    </Scene>
</X3D>
